// Code generated by template-generator vdev-unknown; DO NOT EDIT.
// Generated at: 2025-10-19 13:49:05 CEST

package templates

import (
	"fmt"
	"github.com/a-h/templ"
	"github.com/denkhaus/templ-router/pkg/interfaces"
	"github.com/samber/do/v2"
	app "github.com/denkhaus/templ-router/demo/app"
)

// TemplateRegistry implements interfaces.TemplateRegistry
type templateRegistryImpl struct {
	templates    map[string]interface{}
	routeMapping map[string]string
}

// NewRegistry creates a new template registry for DI
func NewRegistry(i do.Injector) (interfaces.TemplateRegistry, error) {
	return &templateRegistryImpl{
		templates: map[string]interface{}{
			"0db97b7e-8de7-47d1-89e7-e78401148345": app.Error,
			"0cdfbad7-530e-4129-b16e-bdf1619f33d3": app.Layout,
			"c7aa5b3f-61c6-48bc-a4f3-6b0727a45fb2": app.Navbar,
			"3f2bcdcc-c9c2-4ea5-96a9-a26af78e5521": app.UserSection,
			"a02d5c87-d921-4348-82fd-94eef0c17afe": app.LanguageSwitcher,
			"984d4e6a-6883-42d5-bed6-8eeaa03b99a1": app.Footer,
			"a8766929-5718-48f8-af3f-fbd1bab4b3d1": app.Page,
			"e159ff84-b340-421d-bc17-849595a0041a": app.Page,
			"a85c5474-3a36-4853-bd93-b374abc5ab86": app.Page,
			"d00dc387-6820-49c2-9276-f4807c0727db": app.Error,
			"c6c1a95d-be01-4711-a472-6f5f3be3dc36": app.Page,
			"1050fba9-f38e-466c-b17f-a9b603a06a1e": app.Page,
			"40a63bcb-ce1d-4713-913e-16b9aaa8fab1": app.Page,
			"c0b07fde-2c64-4ffe-bfd6-edd3b4aadb02": app.Page,
			"900bfaa9-936f-4d28-be0d-6629013501c2": app.Page,
			"b3c3d044-48fe-48c6-bb44-bda27c51bc64": app.Page,
		},
		routeMapping: map[string]string{
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/error": "0db97b7e-8de7-47d1-89e7-e78401148345",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/layout": "0cdfbad7-530e-4129-b16e-bdf1619f33d3",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/navbar": "c7aa5b3f-61c6-48bc-a4f3-6b0727a45fb2",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/user_section": "3f2bcdcc-c9c2-4ea5-96a9-a26af78e5521",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/language_switcher": "a02d5c87-d921-4348-82fd-94eef0c17afe",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/footer": "984d4e6a-6883-42d5-bed6-8eeaa03b99a1",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app": "a8766929-5718-48f8-af3f-fbd1bab4b3d1",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/{locale}": "e159ff84-b340-421d-bc17-849595a0041a",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/{locale}/admin": "a85c5474-3a36-4853-bd93-b374abc5ab86",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/{locale}/dashboard/error": "d00dc387-6820-49c2-9276-f4807c0727db",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/{locale}/dashboard": "c6c1a95d-be01-4711-a472-6f5f3be3dc36",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/{locale}/dashboard/error-demo": "1050fba9-f38e-466c-b17f-a9b603a06a1e",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/{locale}/product/{id}": "40a63bcb-ce1d-4713-913e-16b9aaa8fab1",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/{locale}/user/{id}": "c0b07fde-2c64-4ffe-bfd6-edd3b4aadb02",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/login": "900bfaa9-936f-4d28-be0d-6629013501c2",
			"/home/denkhaus/dev/gomodules/templ-router/demo/app/signup": "b3c3d044-48fe-48c6-bb44-bda27c51bc64",
		},
	}, nil
}

// GetTemplate retrieves a template component by key
func (r *templateRegistryImpl) GetTemplate(key string) (templ.Component, error) {
	if templateFunc, exists := r.templates[key]; exists {
		// Handle different template function signatures
		switch fn := templateFunc.(type) {
		case func() templ.Component:
			return fn(), nil
		case func(string) templ.Component:
			// For parameterized templates, we need parameters from context
			// This is a simplified implementation - in practice, parameters would come from request context
			return fn(""), nil
		case func(interface{}) templ.Component:
			// For templates with complex parameters
			return fn(nil), nil
		default:
			return nil, fmt.Errorf("unsupported template function type for key: %s", key)
		}
	}
	return nil, fmt.Errorf("template not found: %s", key)
}

// GetTemplateFunction retrieves a template function by key
func (r *templateRegistryImpl) GetTemplateFunction(key string) (func() interface{}, bool) {
	if templateFunc, exists := r.templates[key]; exists {
		// Return the template function as func() interface{} to support parameterized components
		return func() interface{} {
			return templateFunc
		}, true
	}
	return nil, false
}

// GetAllTemplateKeys returns all available template keys
func (r *templateRegistryImpl) GetAllTemplateKeys() []string {
	keys := make([]string, 0, len(r.templates))
	for key := range r.templates {
		keys = append(keys, key)
	}
	return keys
}

// IsAvailable checks if a template exists
func (r *templateRegistryImpl) IsAvailable(key string) bool {
	_, exists := r.templates[key]
	return exists
}

// GetRouteToTemplateMapping returns the route-to-template mapping
func (r *templateRegistryImpl) GetRouteToTemplateMapping() map[string]string {
	return r.routeMapping
}

// GetTemplateByRoute retrieves a template component by route pattern
func (r *templateRegistryImpl) GetTemplateByRoute(route string) (templ.Component, error) {
	if templateKey, exists := r.routeMapping[route]; exists {
		return r.GetTemplate(templateKey)
	}
	return nil, fmt.Errorf("no template found for route: %s", route)
}
